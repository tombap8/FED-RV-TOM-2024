<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>스와이퍼 데모4 - 반응형 break point</title>

    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <style>
      h1 {
        text-align: center;
      }
      /* 스와이퍼 부모박스 - 높이값 있음! */
      .demo-box {
        max-width: 1000px;
        height: 560px;
        /* aspect-ratio: 16/9; */
        margin: 0 auto;
        outline: 2px solid #ccc;
        /* 배경검정색 */
        background-color: #000;
      }

      /* 각 스와이퍼 개별 슬라이드 디자인 */
      .swiper-slide {
        text-align: center;
        font-size: 18px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      /* 각 스와이퍼 슬라이드 하위 이미지 */
      .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* 개별조작버튼박스 */
      .btn-box {
        text-align: center;
        padding: 5vh;
      }
      .btn-box button {
        font-size: 30px;
      }
    </style>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
      // [ 스와이퍼 가이드 사이트 ]
      // https://swiperjs.com/
      window.addEventListener("DOMContentLoaded", () => {
        //스와이퍼 인스턴스 생성하기
        const swiper = new Swiper(".my-slide", {
          // 한화면에 볼 슬라이드수
          slidesPerView: 3,
          // 슬라이드 사이 간격(숫자는 px단위임)
          spaceBetween: 10,
          // 루프설정 true (기본값은 false)
          loop: true,
          // 자동넘김 설정
          autoplay: {
            // 중간 지연시간
            delay: 2500,
            // 상호작용없애기 설정
            disableOnInteraction: false,
            // -> false해야 잠시후 다시작동함!
          },
          // 하단 블릿 인디케이터
          pagination: {
            // 사용할 요소이름(CSS명이 이것으로 되어있음)
            el: ".swiper-pagination",
            // 블릿 클릭으로 슬라이드 이동여부설정
            clickable: true,
          },
          // 양쪽이동버튼 설정
          navigation: {
            // 오른쪽 다음이동버튼
            nextEl: ".swiper-button-next",
            // 왼쪽 이전이동버튼
            prevEl: ".swiper-button-prev",
          },
          // [ 반응형 설정 속성 ]
          // Responsive breakpoints
          breakpoints: {
            // when window width is >= 10px
            10: {
              slidesPerView: 1,
              // spaceBetween: 10,
            },
            // when window width is >= 500px
            500: {
              slidesPerView: 2,
              spaceBetween: 20,
            },
            // when window width is >= 900px
            900: {
              slidesPerView: 3,
              spaceBetween: 30,
            },
          },
        }); /// swiper /////

        // 스와이퍼 API를 이용한 개별 코딩
        // 내가 만든 버튼에 이동 기능 부여하기!
        const myBtns = document.querySelectorAll(".btn-box button");
        console.log("대상:", myBtns);

        // 클릭이벤트 설정하기
        myBtns.forEach((el) => {
          el.addEventListener("click", controlSwp);
        });

        // 기능구현함수
        function controlSwp() {
          // 버튼구분하기
          let isBtn = this.classList.contains("btn-next");
          console.log("나야나!", isBtn);

          // 분기하기
          // 다음버튼
          if (isBtn) {
            swiper.slideNext();
          } // if //
          // 이전버튼
          else {
            swiper.slidePrev();
          } // else //
        } ////////// controlSwp함수 /////////

        const bgColor = ["pink", "lightcoral", "lightyellow", "lightcyan"];
        let arrNum = 0;

        // 스와이퍼 슬라이드 변경시 배경색 바꾸기
        swiper.on("slideChange", function () {
          console.log("slide changed");
          // 색상변경
          document.body.style.backgroundColor = bgColor[arrNum];
          // 배열수 증가
          arrNum++;
          if (arrNum > 3) arrNum = 0;
        });
      }); //////////// load구역 ///////////////////
    </script>
  </head>
  <body>
    <h1>Slides per view</h1>
    <div class="demo-box swiper my-slide">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <img src="./images/pic01.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic02.png" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic03.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic15.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic05.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic06.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic07.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic08.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic09.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic10.jpg" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic11.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic12.jfif" alt="" />
        </div>
        <div class="swiper-slide">
          <img src="./images/pic13.jfif" alt="" />
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
    <!-- 개별 컨트롤을 위한 버튼 -->
    <div class="btn-box">
      <button class="btn-prev">이전</button>
      <button class="btn-next">다음</button>
    </div>
  </body>
</html>
